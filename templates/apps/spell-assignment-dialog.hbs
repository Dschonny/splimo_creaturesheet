<div class="spell-assignment-content">
    <header class="spell-assignment-header">
        <h2>{{spellName}}</h2>
        {{#if spellSchool}}
        <p class="spell-info">
            <span class="spell-school">{{spellSchool}}</span>
                <span class="spell-grade">{{localize "CREATURE.SpellAssignment.MaxGrade"}}: {{spellGrade}}</span>
        </p>
        {{/if}}
    </header>

    <div class="school-selection">
        <label for="school-select">{{localize "CREATURE.SpellAssignment.SelectSchool"}}:</label>
        <select class="school-select" id="school-select">
            <option value="">{{localize "CREATURE.SpellAssignment.ChooseSchool"}}</option>
            {{#each availableSchools}}
            <option value="{{this.id}}" {{#if (eq this.id ../selectedSkillId)}}selected{{/if}}>
                {{this.label}} ({{this.value}})
            </option>
            {{/each}}
        </select>
    </div>

    <div class="spell-list-container">
        {{#if noSchoolSelected}}
        <p class="hint">{{localize "CREATURE.SpellAssignment.SelectSchoolFirst"}}</p>
        {{else if hasSpells}}
        <ul class="spell-list">
            {{#each spells}}
            <li class="spell-list-item {{#if this.isSelected}}selected{{/if}} {{#if this.isPreselected}}preselected{{/if}}" data-uuid="{{this.uuid}}" title="{{localize 'CREATURE.SpellAssignment.ClickToSelect'}}">
                <span class="spell-name">{{this.name}}</span>
                <span class="spell-grade">{{this.grade}}</span>
                <span class="spell-costs">{{this.costs}}</span>
                <span class="spell-difficulty">{{this.difficulty}}</span>
                {{#if this.isPreselected}}<span class="preselect-badge">{{localize "CREATURE.SpellAssignment.Recommended"}}</span>{{/if}}
            </li>
            {{/each}}
        </ul>
        {{else}}
        <p class="hint">{{localize "CREATURE.SpellAssignment.NoSpellsFound"}}</p>
        {{/if}}
    </div>

    <footer class="spell-assignment-footer">
        {{#if isSequential}}
        <button type="button" class="skip-btn">{{localize "CREATURE.SpellAssignment.Skip"}}</button>
        {{/if}}
        <button type="button" class="confirm-btn" {{#unless selectedUuid}}disabled{{/unless}}>{{localize "CREATURE.SpellAssignment.Confirm"}}</button>
    </footer>
</div>
